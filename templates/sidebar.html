<div class="z-10 sticky top-20 bg-white dark:bg-gray-800">
    <div class="flex flex-col sm:flex-row sm:justify-around">
        <div class="w-72 h-[92vh]">
            <nav class="mt-10 px-6 ">
                <div id="jstree">
                </div>
            </nav>
        </div>
    </div>
</div>
<script>
    $(function () {
        let space = $('meta[data-space]').attr('data-space');
        fetch('/tree/' + space).then(function(response) {
            response.json().then(function(data) {
                console.log(data);
                $('#jstree').jstree({
                    "core" : {
                        "data" : data,
                        "themes" : {
                            'responsive': true,
                            "icons" : false
                        },
                        'expand_selected_onload': true,
                    },
                    "plugins" : [ "wholerow" ]
                });
                $('#jstree').on("select_node.jstree", function (e, data) {
                    window.open('./page?id='+data.node.id, target='_self');
                });
            });
        });
    });
</script>